<?xml version="1.0" encoding="UTF-8"?>
<classDefinitions lastModified="2013-02-13T08:57:30" xmlns="http://schemas.meijing.com.cn/mdbs/1/typeDefinitions" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://schemas.meijing.com.cn/mdbs/1/typeDefinitions typeDefinitions.xsd">
  <class name="Device">
    <property name="name">
      <restriction base="string">
        <required />
        <minLength>1</minLength>
				<maxLength>200</maxLength>
      </restriction>
    </property>
    <property name="address">
      <restriction base="ipAddress">
        <required />
      </restriction>
    </property>
    <property name="description">
      <restriction base="string">
				<maxLength>2000</maxLength>
      </restriction>
    </property>
    <property name="catalog">
      <restriction base="integer">
        <required />
      </restriction>
    </property>
    <property name="oid">
      <restriction base="string">
      </restriction>
    </property>
    <property name="services">
      <restriction base="integer">
      </restriction>
    </property>
    <property name="location">
      <restriction base="string">
				<maxLength>2000</maxLength>
      </restriction>
    </property>
    <property name="created_at">
      <restriction base="datetime">
        <readonly />
      </restriction>
    </property>
    <property name="updated_at">
      <restriction base="datetime">
      </restriction>
    </property>
    <has_many foreignKey="device_id" >AccessParams</has_many>
		<has_many foreignKey="device_id" >Interface</has_many>
    <has_many foreignKey="device_id" >Address</has_many>
    <has_many polymorphic="true" >Trigger</has_many>
  </class>
  <class name="AccessParams">
    <property name="description">
      <restriction base="string">
        <maxLength>2000</maxLength>
      </restriction>
    </property>
  </class>
  <class name="EndpointParams" base="AccessParams">
    <property name="address">
      <restriction base="ipAddress">
        <required />
      </restriction>
    </property>
    <property name="port">
      <restriction base="integer">
        <required />
      </restriction>
    </property>
  </class>
  <class name="SnmpParams" base="EndpointParams">
    <property name="version">
      <restriction base="string">
        <required />
        <enumeration value="snmp_v1" />
        <enumeration value="snmp_v2c" />
        <enumeration value="snmp_v3" />
      </restriction>
    </property>
    <property name="community">
      <restriction base="password">
        <required />
      </restriction>
    </property>
  </class>
  <class name="SshParams" base="EndpointParams">
    <property name="user">
      <restriction base="string">
      </restriction>
    </property>
    <property name="password">
      <restriction base="password">
      </restriction>
    </property>
  </class>
  <class name="WbemParams" base="AccessParams">
    <property name="url">
      <restriction base="string">
        <required />
      </restriction>
    </property>
    <property name="user">
      <restriction base="string">
      </restriction>
    </property>
    <property name="password">
      <restriction base="password">
      </restriction>
    </property>
  </class>
  <class name="Address">
    <property name="address">
      <restriction base="ipAddress">
      </restriction>
    </property>
    <property name="ifIndex">
      <restriction base="integer">
      </restriction>
    </property>
    <property name="netmask">
      <restriction base="ipAddress">
      </restriction>
    </property>
    <property name="bcastAddress">
      <restriction base="integer">
      </restriction>
    </property>
    <property name="reasmMaxSize">
      <restriction base="integer">
      </restriction>
    </property>
  </class>
  <class name="Interface">
    <property name="ifIndex">
      <restriction base="integer">
        <required />
      </restriction>
    </property>
    <property name="ifDescr">
      <restriction base="string">
				<maxLength>2000</maxLength>
      </restriction>
    </property>
    <property name="ifType">
      <restriction base="integer">
      </restriction>
    </property>
    <property name="ifMtu">
      <restriction base="integer">
      </restriction>
    </property>
    <property name="ifSpeed">
      <restriction base="integer">
      </restriction>
    </property>
    <property name="ifPhysAddress">
      <restriction base="physicalAddress">
      </restriction>
    </property>
  </class>
  <class name="Trigger">
    <property name="name">
      <restriction base="string">
        <required />
      </restriction>
    </property>
    <property name="expression">
      <restriction base="string">
        <required />
        <maxLength>200</maxLength>
      </restriction>
    </property>
    <property name="attachment">
      <restriction base="string">
        <maxLength>2000</maxLength>
      </restriction>
    </property>
    <property name="description">
      <restriction base="string">
        <maxLength>2000</maxLength>
      </restriction>
    </property>
  </class>
  <class name="HistoryRule" base="Trigger">
    <property name="metric">
      <restriction base="string">
        <required />
      </restriction>
    </property>
  </class>
</classDefinitions>